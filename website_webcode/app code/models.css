/* Base */
.container{ width:min(1120px, 90%); margin-inline:auto }
.main{ padding-top: 72px }

.navbar{ position: sticky; top:0; z-index:100; background: rgba(255,255,255,.75); backdrop-filter: saturate(170%) blur(12px); border-bottom:1px solid rgba(2,6,23,.06) }
.navbar__inner{ height:60px; display:flex; align-items:center; gap:14px }
.navbar__brand{ display:flex; align-items:center; gap:8px; font-weight:700; text-decoration:none; color: var(--text) }
.navbar__brand:hover{ opacity: 0.8 }
.navbar__brand i{ color: var(--accent) }
.navbar__nav{ display:flex; gap:10px; margin-left: 10px }
.navbar__nav .nav__link{ text-decoration:none; color: var(--text-dim); padding:8px 12px; border-radius:999px }
.navbar__nav .nav__link.is-active{ background: radial-gradient(120px 80px at 30% -50%, rgba(37,99,235,.16), transparent 60%), rgba(2,6,23,.06); box-shadow: var(--mdl-glow) }
.navbar__tools{ margin-left:auto; display:flex; align-items:center; gap:8px }
.search{ display:flex; align-items:center; gap:8px; padding:8px 10px; border:1px solid rgba(2,6,23,.12); border-radius: 14px; background: rgba(255,255,255,.8) }
.search input{ border:0; outline:none; background:transparent }
.avatar{ width:28px; height:28px; border-radius:50%; overflow:hidden }
.avatar img{ width:100%; height:100%; object-fit:cover }

/* Hero */
.hero-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin: 12px 0 8px }
.hero-header h1{ display:flex; align-items:center; gap:8px; margin:0; font-size:20px }
.hero-actions{ display:flex; align-items:center; gap:8px }
.toggle{ display:inline-flex; background: rgba(2,6,23,.06); padding:4px; border-radius: 999px; box-shadow: inset 0 0 0 1px rgba(2,6,23,.08) }
.toggle-btn{ border:0; background:transparent; padding:8px 12px; border-radius: 999px; font-weight:600 }
.toggle-btn.is-active{ background:#fff; box-shadow: 0 8px 24px rgba(2,6,23,.1) }

.hero.container{ background: linear-gradient(135deg, rgba(37,99,235,.06), rgba(239,68,68,.05)); border:1px solid rgba(2,6,23,.06); border-radius: 16px; padding: 14px; box-shadow: var(--mdl-glow) }
.hero-actions .btn, .hero-actions .toggle-btn{ transition: all .2s ease }

/* Hero 區塊重新設計 */
.summary-grid{ display:grid; grid-template-columns: 1fr 1.2fr 1fr; gap:16px }

/* 勝率大色塊 */
.win-card{ background: linear-gradient(135deg, rgba(37,99,235,.08), rgba(37,99,235,.04)); border:1px solid rgba(37,99,235,.15); position: relative; overflow: hidden }
.win-card::before{ content:''; position:absolute; top:0; left:0; right:0; height:3px; background: linear-gradient(90deg, var(--chart-home), var(--chart-away)) }
.win-display{ display:flex; flex-direction:column; align-items:center; gap:8px; margin-bottom:12px }
.win-percentage{ font-size: 48px; font-weight:900; color: var(--chart-home); text-shadow: 0 2px 8px rgba(37,99,235,.3) }
.win-label{ color: var(--text-dim); font-weight:600 }
.confidence{ display:flex; flex-direction:column; gap:4px }
.confidence-bar{ width:100%; height:6px; background: rgba(2,6,23,.1); border-radius:3px; overflow:hidden }
.confidence-fill{ height:100%; background: linear-gradient(90deg, var(--chart-home), var(--success)); border-radius:3px; width:85%; transition: width .8s ease }
.confidence-text{ text-align:center; font-size:12px; color: var(--success); font-weight:700 }

/* 比分+隊徽中央 */
.score-card{ background: linear-gradient(135deg, rgba(239,68,68,.06), rgba(37,99,235,.06)); position: relative; overflow: hidden }
.score-card::before{ content:''; position:absolute; top:0; left:0; right:0; height:3px; background: linear-gradient(90deg, var(--chart-away), var(--chart-home)) }
.match-teams{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px }
.team{ display:flex; flex-direction:column; align-items:center; gap:4px }
.team-logo{ width:48px; height:48px; border-radius:50%; object-fit:cover; border:2px solid rgba(255,255,255,.2); box-shadow: 0 4px 12px rgba(0,0,0,.15) }
.team-name{ font-weight:700; font-size:14px }
.predicted-score{ font-size: 32px; font-weight:900; color: var(--chart-home) }
.team.away .predicted-score{ color: var(--chart-away) }
.vs-section{ display:flex; flex-direction:column; align-items:center; gap:2px }
.vs-text{ font-weight:900; font-size:18px; color: var(--text-dim) }
.game-time{ font-size:12px; color: var(--text-dim); background: rgba(2,6,23,.06); padding:2px 6px; border-radius:8px }

/* MVP 詳細右側 */
.mvp-card{ background: linear-gradient(135deg, rgba(16,185,129,.06), rgba(34,197,94,.04)); border:1px solid rgba(16,185,129,.15); position: relative }
.mvp-card::before{ content:''; position:absolute; top:0; left:0; right:0; height:3px; background: linear-gradient(90deg, var(--success), var(--warning)) }
.mvp-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px }
.mvp-probability{ font-size:18px; font-weight:800; color: var(--success) }
.mvp-player{ display:flex; align-items:center; gap:10px; margin-bottom:10px }
.mvp-avatar{ width:48px; height:48px; border-radius:50%; object-fit:cover; border:2px solid rgba(16,185,129,.3) }
.mvp-info .mvp-name{ font-weight:800; font-size:16px }
.mvp-info .mvp-position{ color: var(--text-dim); font-size:12px }
.mvp-stats{ display:flex; flex-direction:column; gap:6px }
.stat-item{ display:flex; align-items:center; justify-content:space-between; gap:8px }
.stat-label{ font-size:11px; color: var(--text-dim); min-width:70px }
.stat-bar{ flex:1; height:4px; background: rgba(2,6,23,.1); border-radius:2px; overflow:hidden }
.stat-fill{ height:100%; background: linear-gradient(90deg, var(--success), var(--warning)); border-radius:2px; transition: width .8s ease }
.stat-value{ font-size:12px; font-weight:700; min-width:32px; text-align:right }

/* 互動模擬器 */
.sim-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:16px }
.sim-panel{ background: var(--mdl-card); border:1px solid rgba(2,6,23,.08); border-radius: 16px; padding:16px; box-shadow: var(--mdl-glow); transition: all .3s ease }
.sim-panel:hover{ transform: translateY(-3px); box-shadow: 0 16px 40px rgba(2,6,23,.18) }
.sim-title{ margin: 0 0 12px; font-size:15px; font-weight:700; color: var(--text) }
.lineup-controls{ display:flex; flex-direction:column; gap:8px }
.lineup-controls select{ padding:8px 10px; border:1px solid rgba(2,6,23,.12); border-radius:8px; background:#fff }
.scenario-buttons{ display:flex; gap:6px; flex-wrap:wrap }
.scenario-btn{ border:1px solid rgba(2,6,23,.12); background: rgba(2,6,23,.04); padding:6px 10px; border-radius:8px; font-size:12px; cursor:pointer; transition: all .2s ease }
.scenario-btn.is-active{ background: var(--chart-home); color:#fff; border-color: var(--chart-home) }
.scenario-btn:hover{ background: rgba(2,6,23,.08) }

.vote-comparison{ display:flex; flex-direction:column; gap:8px }
.vote-item{ display:flex; align-items:center; gap:8px }
.vote-label{ font-size:12px; color: var(--text-dim); min-width:60px }
.vote-bar{ flex:1; height:6px; background: rgba(2,6,23,.1); border-radius:3px; overflow:hidden }
.ai-bar .vote-fill{ background: linear-gradient(90deg, var(--chart-home), var(--primary)) }
.fan-bar .vote-fill{ background: linear-gradient(90deg, var(--chart-away), var(--accent)) }
.vote-percent{ font-size:12px; font-weight:700; min-width:32px }

/* 詳細預測增強 */
.detail-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:16px }
.win-prob-panel{ grid-column: 1 / -1 }
.inning-highlights{ margin-top:8px; display:flex; gap:8px }
.highlight-item{ background: rgba(2,6,23,.04); border:1px solid rgba(2,6,23,.08); border-radius:8px; padding:6px 8px; display:flex; align-items:center; gap:6px }
.highlight-item .inning{ font-weight:700; font-size:12px }
.probability.high{ color: var(--danger); font-weight:700 }
.probability.medium{ color: var(--warning); font-weight:700 }

.matchup-table{ margin-bottom:8px }
.matchup-header{ display:grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap:8px; font-size:12px; color: var(--text-dim); font-weight:600; padding:4px 0; border-bottom:1px solid rgba(2,6,23,.08) }

.prob-legend{ display:flex; justify-content:center; gap:16px; margin-top:8px }
.legend-item{ display:flex; align-items:center; gap:6px; font-size:12px }
.legend-item::before{ content:''; width:12px; height:12px; border-radius:50% }
.legend-item.home::before{ background: var(--chart-home) }
.legend-item.away::before{ background: var(--chart-away) }

/* 推薦卡片強化 */
.rec-card{ position: relative; overflow: hidden }
.rec-card::before{ content:''; position:absolute; top:0; left:0; right:0; height:2px; background: linear-gradient(90deg, var(--primary), var(--accent)) }
.rec-card .title{ font-weight:700; margin-bottom:6px }
.rec-card .meta{ color: var(--text-dim); font-size:13px }

/* Details */
.details h2, .recommend h2, .interact h2{ display:flex; align-items:center; gap:8px; font-size:18px }
.detail-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px }
.panel{ background: var(--mdl-card); border:1px solid rgba(2,6,23,.08); box-shadow: var(--mdl-glow); transition: transform .18s ease, box-shadow .18s ease }
.panel:hover{ transform: translateY(-2px); box-shadow: 0 14px 36px rgba(2,6,23,.16) }
.panel-title{ margin: 0 0 8px; color: var(--text-dim) }
.card-list{ display:grid; grid-template-columns: repeat(2, 1fr); gap:10px }
.player-card{ background: rgba(2,6,23,.04); border:1px solid rgba(2,6,23,.08); border-radius: 12px; padding:8px; display:flex; align-items:center; gap:8px }
.player-card img{ width:36px; height:36px; border-radius:50%; object-fit:cover }
.player-card .name{ font-weight:700 }
.player-card .stats{ color: var(--text-dim); font-size:12px }

/* Recommend */
.rec-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:12px }
.rec-card{ background: var(--mdl-card); border:1px solid rgba(2,6,23,.08); box-shadow: var(--mdl-glow); transition: transform .18s ease, box-shadow .18s ease }
.rec-card:hover{ transform: translateY(-2px); box-shadow: 0 14px 36px rgba(2,6,23,.16) }

/* Interact */
.interact-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px }
.picker{ background: var(--mdl-card); border:1px solid rgba(2,6,23,.08); box-shadow: var(--mdl-glow); border-radius: 12px; padding:10px; display:flex; gap:8px; align-items:center }
.picker label{ color: var(--text-dim) }
.picker select{ flex:1; border-radius:10px; padding:6px 8px; border:1px solid rgba(2,6,23,.12) }

/* Footer */
.footer{ border-top:1px solid rgba(2,6,23,.08); margin-top: 24px }
.footer__inner{ padding: 12px 0 }
.footer__copy{ color: var(--text-dim) }
.disclaimer{ font-size: 12px; margin-top: 6px }

/* 投打對位表格樣式 */
.matchup-row{ display:grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap:8px; padding:6px 4px; border-radius:6px; font-size:12px }
.matchup-row.high{ background: rgba(239,68,68,.08); border-left:3px solid var(--danger) }
.matchup-row.low{ background: rgba(16,185,129,.08); border-left:3px solid var(--success) }
.avg-cell, .hr-cell{ font-weight:700 }
.matchup-row.high .avg-cell, .matchup-row.high .hr-cell{ color: var(--danger) }
.matchup-row.low .avg-cell, .matchup-row.low .hr-cell{ color: var(--success) }

/* 數字動畫增強 */
.win-percentage, .predicted-score, .mvp-probability{ transition: all 0.3s ease; will-change: contents }
.win-percentage:hover, .predicted-score:hover{ transform: scale(1.05) }

/* 按鈕與控件美化 */
.btn-accent{ background: linear-gradient(135deg, var(--primary), var(--accent)); color:#fff; border:0 }
.btn-accent:hover{ filter: brightness(1.1); transform: translateY(-1px) }
.btn-outline{ background: rgba(2,6,23,.04); border:1px solid rgba(2,6,23,.12); color: var(--text) }
.btn-outline:hover{ background: rgba(2,6,23,.08) }

/* 卡片懸停光暈增強 */
.summary-card:hover, .panel:hover, .sim-panel:hover{ box-shadow: 0 20px 50px rgba(2,6,23,.2), 0 0 30px rgba(37,99,235,.08) }

/* 響應式優化 */
@media (max-width: 1024px){ 
  .summary-grid{ grid-template-columns: 1fr } 
  .sim-grid{ grid-template-columns: 1fr }
  .win-percentage{ font-size: 40px }
  .predicted-score{ font-size: 28px }
}

/* 入場動畫 */
.summary-card, .panel, .rec-card, .picker{ opacity:0; transform: translateY(10px); animation: fadeUp .35s ease forwards }
.summary-card:nth-child(1){ animation-delay:.05s } .summary-card:nth-child(2){ animation-delay:.12s } .summary-card:nth-child(3){ animation-delay:.18s }
.detail-grid .panel:nth-child(1){ animation-delay:.05s } .detail-grid .panel:nth-child(2){ animation-delay:.12s } .detail-grid .panel:nth-child(3){ animation-delay:.18s } .detail-grid .panel:nth-child(4){ animation-delay:.24s }
@keyframes fadeUp{ to{ opacity:1; transform: translateY(0) } }

/* 按鈕 */
.btn{ padding:8px 12px; border-radius:10px; border:1px solid rgba(2,6,23,.12); background:#fff; cursor:pointer; font-weight:600 }
.btn:hover{ box-shadow: 0 8px 20px rgba(2,6,23,.12) } 

/* 卡片標題區統一設計 */
.card-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; padding-bottom:8px; border-bottom:1px solid rgba(2,6,23,.06) }
.card-header h3{ margin:0; font-size:14px; font-weight:700; color: var(--text) }
.accuracy-badge{ background: linear-gradient(135deg, var(--success), var(--warning)); color:#fff; padding:4px 8px; border-radius:999px; font-size:10px; font-weight:700 }
.confidence-interval{ color: var(--text-dim); font-size:12px; background: rgba(2,6,23,.04); padding:2px 6px; border-radius:6px }

/* 推薦區重新設計 */
.rec-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:16px }
.rec-card{ background: var(--mdl-card); border:1px solid rgba(2,6,23,.08); border-radius: 16px; padding:16px; box-shadow: var(--mdl-glow); transition: all .3s ease }
.rec-card:hover{ transform: translateY(-3px); box-shadow: 0 20px 50px rgba(2,6,23,.2) }
.rec-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px }
.rec-header h4{ margin:0; font-size:15px; font-weight:700 }
.accuracy-indicator{ display:flex; align-items:center; gap:4px }
.accuracy-dot{ width:8px; height:8px; border-radius:50% }
.accuracy-dot.high{ background: var(--success); box-shadow: 0 0 8px rgba(16,185,129,.4) }
.accuracy-dot.medium{ background: var(--warning); box-shadow: 0 0 8px rgba(245,158,11,.4) }
.accuracy-text{ font-size:10px; color: var(--text-dim); font-weight:600 }

.historical-matches{ display:flex; flex-direction:column; gap:6px }
.historical-match{ display:flex; justify-content:space-between; align-items:center; padding:6px 8px; background: rgba(2,6,23,.04); border-radius:8px; font-size:12px }
.insights-list{ display:flex; flex-direction:column; gap:8px }
.insight-item{ padding:8px; background: rgba(2,6,23,.04); border-radius:8px; border-left:3px solid var(--primary); font-size:13px }

/* 比賽過程預測區 */
.process-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:16px }
.performance-summary{ display:flex; justify-content:space-around; margin-top:8px }
.perf-item{ display:flex; flex-direction:column; align-items:center; gap:2px }
.perf-label{ font-size:11px; color: var(--text-dim) }
.perf-value{ font-weight:800; color: var(--primary) }

/* 對比結果 */
.comparison-controls{ display:flex; flex-direction:column; gap:8px }
.comparison-result{ margin-top:12px; display:flex; flex-direction:column; gap:6px }
.compare-item{ display:flex; justify-content:space-between; align-items:center; padding:6px 8px; background: rgba(2,6,23,.04); border-radius:8px }
.compare-item .win-prob{ font-weight:800; color: var(--primary) }

/* 響應式優化 */
@media (max-width: 1024px){ 
  .summary-grid{ grid-template-columns: 1fr } 
  .sim-grid{ grid-template-columns: 1fr }
  .process-grid{ grid-template-columns: 1fr }
  .rec-grid{ grid-template-columns: 1fr }
  .win-percentage{ font-size: 40px }
  .predicted-score{ font-size: 28px }
} 

/* Theme tokens for models */
:root{ --primary:#1e3a8a; --accent:#f59e0b; --success:#10b981; --danger:#ef4444; --text:#0b1220; --text-dim:#475569; --mdl-card:#fff; --chart-home:#2563eb; --chart-away:#ef4444; --chart-muted:rgba(2,6,23,.12); --mdl-glow: 0 10px 30px rgba(2,6,23,.08) }
.theme-dark{ --text:#e5e7eb; --text-dim:#cbd5e1; --mdl-card:#0f172a; --chart-muted: rgba(241,245,249,.08) }

/* Background FX */
.bgfx{ position: fixed; inset: 0; z-index: -1; overflow: hidden }
.bgfx__gradient{ position:absolute; inset:-10%; background: radial-gradient(1200px 800px at 10% 20%, rgba(59,130,246,.18), transparent 60%), radial-gradient(1200px 800px at 90% 10%, rgba(245,158,11,.14), transparent 60%), radial-gradient(800px 600px at 50% 90%, rgba(30,58,138,.16), transparent 60%) }
.bgfx__grid{ position:absolute; inset:0; background-image: linear-gradient(rgba(30,58,138,.06) 1px, transparent 1px), linear-gradient(90deg, rgba(30,58,138,.06) 1px, transparent 1px); background-size: 44px 44px; mask-image: radial-gradient(ellipse at 50% 30%, black 40%, transparent 70%) }
.bgfx__noise{ position:absolute; inset:0; opacity:.05; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.4"/></svg>'); mix-blend-mode: overlay }
.bgfx__orbs{ position:absolute; inset:0; pointer-events:none }
.orb{ position:absolute; width:300px; height:300px; border-radius:50%; filter: blur(20px); opacity:.42; animation: orbFloat 12s ease-in-out infinite }
.orb-1{ left:-60px; top:120px; background: radial-gradient(circle at 30% 30%, rgba(59,130,246,.85), rgba(59,130,246,.2)) }
.orb-2{ right:-80px; top:220px; background: radial-gradient(circle at 30% 30%, rgba(245,158,11,.85), rgba(245,158,11,.2)); animation-delay: 1s }
.orb-3{ left:40%; bottom:-120px; background: radial-gradient(circle at 30% 30%, rgba(16,185,129,.85), rgba(16,185,129,.2)); animation-delay: 2s }
@keyframes orbFloat { 0%,100%{ transform: translate3d(0,0,0) } 50%{ transform: translate3d(0,-24px,0) } }
.theme-dark .bgfx__grid{ background-image: linear-gradient(rgba(148,163,184,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(148,163,184,.1) 1px, transparent 1px) }

/* Chips navigation (under hero header) */
.chips{ display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 12px }
.chip{ display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border:1px solid rgba(2,6,23,.12); background: rgba(255,255,255,.7); border-radius:999px; cursor:pointer; transition: all .18s ease }
.chip:hover{ transform: translateY(-1px); box-shadow: 0 6px 16px rgba(2,6,23,.08) }
.chip.is-active{ background: linear-gradient(135deg, var(--chart-home), var(--accent)); color:#fff; border-color: transparent }

/* A11y + ripple */
:focus-visible{ outline:2px solid #3b82f6; outline-offset:2px }
.btn, .toggle-btn, .chip{ position:relative; overflow:hidden }
.btn::after, .toggle-btn::after, .chip::after{ content:""; position:absolute; inset:0; border-radius:inherit; transform:scale(0); background:rgba(0,0,0,.06); opacity:0; transition:transform .35s ease, opacity .4s ease }
.btn.ripple::after, .toggle-btn.ripple::after, .chip.ripple::after{ transform:scale(1); opacity:1 } 

/* Explain section */
.explain h2{ display:flex; align-items:center; gap:8px; font-size:18px }
.exp-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px }
.feat-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px }
.feat-item{ display:flex; align-items:center; justify-content:space-between; gap:10px; background: rgba(2,6,23,.04); border:1px solid rgba(2,6,23,.08); border-radius:8px; padding:8px }
.feat-label{ font-size:13px; color: var(--text-dim) }
.feat-value.pos{ color: var(--success); font-weight:800 }
.feat-value.neg{ color: var(--danger); font-weight:800 }
@media (max-width: 1024px){ .exp-grid{ grid-template-columns: 1fr } } 